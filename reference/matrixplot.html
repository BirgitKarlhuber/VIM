<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Matrix plot — matrixplot • VIM</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Matrix plot — matrixplot" />
<meta property="og:description" content="Create a matrix plot, in which all cells of a data matrix are visualized by
rectangles.  Available data is coded according to a continuous color scheme,
while missing/imputed data is visualized by a clearly distinguishable color." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">VIM</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">5.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/VIM.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/statistikat/VIM/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Matrix plot</h1>
    <small class="dont-index">Source: <a href='https://github.com/statistikat/VIM/blob/master/R/matrixplot.R'><code>R/matrixplot.R</code></a></small>
    <div class="hidden name"><code>matrixplot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a matrix plot, in which all cells of a data matrix are visualized by
rectangles.  Available data is coded according to a continuous color scheme,
while missing/imputed data is visualized by a clearly distinguishable color.</p>
    </div>

    <pre class="usage"><span class='fu'>matrixplot</span>(
  <span class='no'>x</span>,
  <span class='kw'>delimiter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>sortby</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"red"</span>, <span class='st'>"orange"</span>),
  <span class='kw'>fixup</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>sub</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>axes</span>,
  <span class='kw'>xpd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>interactive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>matrixplot</span>(
  <span class='no'>x</span>,
  <span class='kw'>delimiter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>sortby</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"red"</span>, <span class='st'>"orange"</span>),
  <span class='kw'>fixup</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>sub</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>axes</span>,
  <span class='kw'>xpd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>interactive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for survey.design</span>
<span class='fu'>matrixplot</span>(
  <span class='no'>x</span>,
  <span class='kw'>delimiter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>sortby</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"red"</span>, <span class='st'>"orange"</span>),
  <span class='kw'>fixup</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>sub</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>axes</span>,
  <span class='kw'>xpd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>interactive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for default</span>
<span class='fu'>matrixplot</span>(
  <span class='no'>x</span>,
  <span class='kw'>delimiter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>sortby</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"red"</span>, <span class='st'>"orange"</span>),
  <span class='kw'>fixup</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>sub</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>axes</span>,
  <span class='kw'>xpd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>interactive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a matrix or <code>data.frame</code>.</p></td>
    </tr>
    <tr>
      <th>delimiter</th>
      <td><p>a character-vector to distinguish between variables and
imputation-indices for imputed variables (therefore, <code>x</code> needs to have
<code><a href='https://rdrr.io/r/base/colnames.html'>colnames()</a></code>). If given, it is used to determine the corresponding
imputation-index for any imputed variable (a logical-vector indicating which
values of the variable have been imputed). If such imputation-indices are
found, they are used for highlighting and the colors are adjusted according
to the given colors for imputed variables (see <code>col</code>).</p></td>
    </tr>
    <tr>
      <th>sortby</th>
      <td><p>a numeric or character value specifying the variable to sort
the data matrix by, or <code>NULL</code> to plot without sorting.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>the colors to be used in the plot.  RGB colors may be specified
as character strings or as objects of class "<code><a href='http://colorspace.R-Forge.R-project.org//reference/RGB.html'>colorspace::RGB()</a></code>".
HCL colors need to be specified as objects of class
"<code><a href='http://colorspace.R-Forge.R-project.org//reference/polarLUV.html'>colorspace::polarLUV()</a></code>".  If only one color is supplied, it is
used for missing and imputed data and a greyscale is used for available
data. If two colors are supplied, the first is used for missing and the
second for imputed data and a greyscale for available data.  If three colors
are supplied, the first is used as end color for the available data, while
the start color is taken to be transparent for RGB or white for HCL.
Missing/imputed data is visualized by the second/third color in this case.
If four colors are supplied, the first is used as start color and the second
as end color for the available data, while the third/fourth color is used
for missing/imputed data.</p></td>
    </tr>
    <tr>
      <th>fixup</th>
      <td><p>a logical indicating whether the colors should be corrected to
valid RGB values (see <code><a href='http://colorspace.R-Forge.R-project.org//reference/hex.html'>colorspace::hex()</a></code>).</p></td>
    </tr>
    <tr>
      <th>xlim, ylim</th>
      <td><p>axis limits.</p></td>
    </tr>
    <tr>
      <th>main, sub</th>
      <td><p>main and sub title.</p></td>
    </tr>
    <tr>
      <th>xlab, ylab</th>
      <td><p>axis labels.</p></td>
    </tr>
    <tr>
      <th>axes</th>
      <td><p>a logical indicating whether axes should be drawn on the plot.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>either a logical indicating whether labels should be plotted
below each column, or a character vector giving the labels.</p></td>
    </tr>
    <tr>
      <th>xpd</th>
      <td><p>a logical indicating whether the rectangles should be allowed to
go outside the plot region.  If <code>NULL</code>, it defaults to <code>TRUE</code>
unless axis limits are specified.</p></td>
    </tr>
    <tr>
      <th>interactive</th>
      <td><p>a logical indicating whether a variable to be used for
sorting can be selected interactively (see &#8216;Details&#8217;).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>for <code>matrixplot</code> and <code>iimagMiss</code>, further graphical
parameters to be passed to <code><a href='https://rdrr.io/r/graphics/plot.window.html'>graphics::plot.window()</a></code>,
<code><a href='https://rdrr.io/r/graphics/title.html'>graphics::title()</a></code> and <code><a href='https://rdrr.io/r/graphics/axis.html'>graphics::axis()</a></code>.  For
<code>TKRmatrixplot</code>, further arguments to be passed to <code>matrixplot</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>In a <em>matrix plot</em>, all cells of a data matrix are visualized by
rectangles.  Available data is coded according to a continuous color scheme.
To compute the colors via interpolation, the variables are first scaled to
the interval \($[0,1]$\). Missing/imputed values can then be
visualized by a clearly distinguishable color. It is thereby possible to use
colors in the <em>HCL</em> or <em>RGB</em> color space. A simple way of
visualizing the magnitude of the available data is to apply a greyscale,
which has the advantage that missing/imputed values can easily be
distinguished by using a color such as red/orange.  Note that <code>-Inf</code>
and <code>Inf</code> are always assigned the begin and end color, respectively, of
the continuous color scheme.</p>
<p>Additionally, the observations can be sorted by the magnitude of a selected
variable.  If <code>interactive</code> is <code>TRUE</code>, clicking in a column
redraws the plot with observations sorted by the corresponding variable.
Clicking anywhere outside the plot region quits the interactive session.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This is a much more powerful extension to the function <code>imagmiss</code>
in the former CRAN package <code>dprep</code>.</p>
<p><code>iimagMiss</code> is deprecated and may be omitted in future versions of
<code>VIM</code>.  Use <code>matrixplot</code> instead.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete
data using visualization tools.  <em>Journal of Advances in Data Analysis
and Classification</em>, Online first. DOI: 10.1007/s11634-011-0102-y.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>sleep</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"VIM"</span>)
<span class='co'>## for missing values</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='no'>sleep</span>[, -(<span class='fl'>8</span>:<span class='fl'>10</span>)]
<span class='no'>x</span>[,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>4</span>,<span class='fl'>6</span>,<span class='fl'>7</span>)] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span>(<span class='no'>x</span>[,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>4</span>,<span class='fl'>6</span>,<span class='fl'>7</span>)])
<span class='fu'>matrixplot</span>(<span class='no'>x</span>, <span class='kw'>sortby</span> <span class='kw'>=</span> <span class='st'>"BrainWgt"</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: variable 'Dream' contains infinite values</span></div><div class='img'><img src='matrixplot-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## for imputed values</span>
<span class='no'>x_imp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='kNN.html'>kNN</a></span>(<span class='no'>sleep</span>[, -(<span class='fl'>8</span>:<span class='fl'>10</span>)])
<span class='no'>x_imp</span>[,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>4</span>,<span class='fl'>6</span>,<span class='fl'>7</span>)] <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span>(<span class='no'>x_imp</span>[,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>4</span>,<span class='fl'>6</span>,<span class='fl'>7</span>)])
<span class='fu'>matrixplot</span>(<span class='no'>x_imp</span>, <span class='kw'>delimiter</span> <span class='kw'>=</span> <span class='st'>"_imp"</span>, <span class='kw'>sortby</span> <span class='kw'>=</span> <span class='st'>"BrainWgt"</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: variable 'Dream' contains infinite values</span></div><div class='img'><img src='matrixplot-2.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Matthias Templ, Alexander Kowarik, Andreas Alfons.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


